path(X,Y,W) | notPath(X,Y,W) :- source(X), edge(X,Y,W).

path(X,Y,W) | notPath(X,Y,W) :- path(_,X,_), edge(X,Y,W).

start(X) :- source(X), path(X,_,_).
:- source(X), not start(X).

end(X) :- path(_,X,_).
:- destination(X), not end(X).

:~ path(X,Y,W). [W@1 ,X,Y]


source(0).
destination(7).

edge(0,1,1).
edge(0,2,4).
edge(1,2,2).
edge(1,3,4).
edge(1,4,1).
edge(2,4,4).
edge(3,5,6).
edge(3,6,1).
edge(4,3,1).
edge(6,4,5).
edge(6,5,9).
edge(6,7,1).
edge(7,5,2).